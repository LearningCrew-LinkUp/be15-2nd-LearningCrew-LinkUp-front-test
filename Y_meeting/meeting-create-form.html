<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>지정 주소 모임 개설</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.8/dist/web/static/pretendard.css" />
  <link rel="stylesheet" href="meeting-create-free.css" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_APP_KEY&libraries=services"></script>
</head>
<body style="background:#f4f6fb; font-family: Pretendard, sans-serif; margin:0; padding:40px; display:flex; justify-content:center;">

<div class="form-card">
  <h2><span class="material-symbols-outlined">edit</span>지정 주소 모임 개설</h2>

  <!-- 기본 정보 -->
  <h3 class="section-title"><span class="material-symbols-outlined">event_note</span>기본 정보</h3>
  <div class="section-box">
    <div class="form-group">
      <label for="title">모임 제목</label>
      <input type="text" id="title" placeholder="모임 제목을 입력하세요" />
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="date">날짜</label>
        <input type="date" id="date" />
      </div>
      <div class="form-group">
        <label for="startTime">시작 시간</label>
        <input type="time" id="startTime" />
      </div>
      <div class="form-group">
        <label for="endTime">종료 시간</label>
        <input type="time" id="endTime" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="minCapacity">최소 인원</label>
        <input type="number" id="minCapacity" placeholder="예: 4" />
      </div>
      <div class="form-group">
        <label for="maxCapacity">최대 인원</label>
        <input type="number" id="maxCapacity" placeholder="예: 8" />
      </div>
    </div>
  </div>

  <!-- 주소 선택 -->
  <h3 class="section-title"><span class="material-symbols-outlined">map</span>위치 선택</h3>
  <div class="section-box">
    <div class="form-group">
      <label>모임 위치</label>
      <div class="map-box">
        <div id="map"></div>
        <button class="map-select-btn" onclick="alert('지도를 클릭해 위치를 선택하세요')">
          <span class="material-symbols-outlined">map</span>위치 선택
        </button>
      </div>
      <input type="text" id="address" placeholder="지도에서 위치를 선택하세요" readonly />
    </div>
  </div>

  <!-- 필터 조건 -->
  <h3 class="section-title"><span class="material-symbols-outlined">tune</span>필터 조건</h3>
  <div class="section-box">
    <div class="form-group">
      <label>운동 종류</label>
      <div class="btn-group">
        <button type="button" class="btn-select active">전체</button>
        <button type="button" class="btn-select">풋볼</button>
        <button type="button" class="btn-select">테니스</button>
        <button type="button" class="btn-select">볼링</button>
        <button type="button" class="btn-select">탁구</button>
        <button type="button" class="btn-select">농구</button>
        <button type="button" class="btn-select">골프</button>
        <button type="button" class="btn-select">배드민턴</button>
        <button type="button" class="btn-select">기타</button>
      </div>
    </div>

    <div class="form-group">
      <label>성별</label>
      <div class="btn-group">
        <button type="button" class="btn-select active">전체</button>
        <button type="button" class="btn-select">남성</button>
        <button type="button" class="btn-select">여성</button>
      </div>
    </div>

    <div class="form-group">
      <label>나이대</label>
      <div class="btn-group">
        <button type="button" class="btn-select active">전체</button>
        <button type="button" class="btn-select">10대</button>
        <button type="button" class="btn-select">20대</button>
        <button type="button" class="btn-select">30대</button>
        <button type="button" class="btn-select">40대</button>
        <button type="button" class="btn-select">50대</button>
        <button type="button" class="btn-select">60대</button>
        <button type="button" class="btn-select">70대+</button>
      </div>
    </div>

    <div class="form-group">
      <label>실력</label>
      <div class="btn-group">
        <button type="button" class="btn-select active">전체</button>
        <button type="button" class="btn-select">Lv.1</button>
        <button type="button" class="btn-select">Lv.2</button>
        <button type="button" class="btn-select">Lv.3</button>
      </div>
    </div>
  </div>

  <!-- 설명 -->
  <h3 class="section-title"><span class="material-symbols-outlined">description</span>모임 설명</h3>
  <div class="section-box">
    <div class="form-group">
      <label for="description">모임 설명</label>
      <textarea id="description" placeholder="모임에 대한 설명을 작성해주세요"></textarea>
    </div>
  </div>

  <button class="search-btn">모임 개설하기</button>
</div>

<!-- 선택 토글 + 지도 스크립트 -->
<script>
  // 버튼 그룹 액티브 처리
  document.querySelectorAll('.btn-group').forEach(group => {
    group.querySelectorAll('.btn-select').forEach(button => {
      button.addEventListener('click', () => {
        group.querySelectorAll('.btn-select').forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
      });
    });
  });

  // 지도 초기화
  window.onload = function () {
    const mapContainer = document.getElementById('map');
    const mapOption = {
      center: new kakao.maps.LatLng(37.5665, 126.9780), // 서울 중심
      level: 3
    };
    const map = new kakao.maps.Map(mapContainer, mapOption);
    const geocoder = new kakao.maps.services.Geocoder();
    const marker = new kakao.maps.Marker({ map: map });

    kakao.maps.event.addListener(map, 'click', function(mouseEvent) {
      const latlng = mouseEvent.latLng;
      marker.setPosition(latlng);
      geocoder.coord2Address(latlng.getLng(), latlng.getLat(), function(result, status) {
        if (status === kakao.maps.services.Status.OK) {
          const address = result[0].address.address_name;
          document.getElementById('address').value = address;
        }
      });
    });
  };
</script>

</body>
</html>
