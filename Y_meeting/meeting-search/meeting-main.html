<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meeting Main</title>
  <link rel="stylesheet" href="meeting-main.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.8/dist/web/static/pretendard.css">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body>
<header class="main-header">
  <div class="logo">
    <img src="../img/learning_crew_logo.webp" alt="로고" />
  </div>
  <nav class="nav-menu">
    <a href="#">커뮤니티</a>
    <a href="#">모임</a>
    <a href="#">장소</a>
    <a href="#">사용자</a>
  </nav>
</header>

<div class="container">
  <div class="main-content">
    <section class="meeting-list">
      <div class="filter-toggle-wrap">

        <div class="filter-scroll-wrapper">
          <div class="filter-icons">
            <!-- 전체 -->
            <button class="icon-btn active" data-type="all">
              <img src="https://cdn-icons-png.flaticon.com/512/7680/7680260.png" alt="전체" />
            </button>

            <!-- 풋볼 -->
            <button class="icon-btn" data-type="football">
              <img src="https://cdn-icons-png.flaticon.com/512/4303/4303722.png" alt="풋볼" />
            </button>

            <!-- 테니스 -->
            <button class="icon-btn" data-type="tennis">
              <img src="https://cdn-icons-png.flaticon.com/512/1706/1706960.png" alt="테니스" />
            </button>

            <!-- 볼링 -->
            <button class="icon-btn" data-type="bowling">
              <img src="https://cdn-icons-png.flaticon.com/512/8512/8512684.png" alt="볼링" />
            </button>

            <!-- 탁구 -->
            <button class="icon-btn" data-type="pingpong">
              <img src="https://cdn-icons-png.flaticon.com/512/7105/7105717.png" alt="탁구" />
            </button>

            <!-- 농구 -->
            <button class="icon-btn" data-type="basketball">
              <img src="https://cdn-icons-png.flaticon.com/512/1180/1180490.png" alt="농구" />
            </button>

            <!-- 골프 -->
            <button class="icon-btn" data-type="golf">
              <img src="https://cdn-icons-png.flaticon.com/512/4666/4666052.png" alt="골프" />
            </button>

            <!-- 배드민턴 -->
            <button class="icon-btn" data-type="badminton">
              <img src="https://cdn-icons-png.flaticon.com/512/3859/3859179.png" alt="배드민턴" />
            </button>

            <!-- 기타 -->
            <button class="icon-btn" data-type="etc">
              <img src="https://cdn-icons-png.flaticon.com/512/2184/2184218.png" alt="기타" />
            </button>
          </div>

        </div>

        <button class="filter-toggle-btn" onclick="openModal('filterModal')">
          <span class="material-symbols-outlined card">tune</span> 필터
        </button>
      </div>

      <div class="meeting-card">
        <img src="https://img.shareit.kr/tempspaceauth/img/2023-01-02/36d691d0-301c-4b65-9588-036c46d70e3f.jpg" alt="풋살장 이미지" class="meeting-img" />
        <div class="meeting-info">
          <div class="meeting-meta">
        <span class="date">
          <span class="material-symbols-outlined card">event</span> 2025.04.23 (화)
        </span>
            <button class="bookmark">
              <span class="material-symbols-outlined filled">favorite</span>
            </button>
          </div>
          <h3 class="title">요즘같은 선선한 날에 축구 한판 어때요!</h3>
          <p class="location">
            <span class="material-symbols-outlined card">location_on</span> 서울 도봉구 방학로 223
          </p>
          <p class="likes">
            <span class="material-symbols-outlined card">favorite</span> 32명 찜
          </p>
          <p class="price">
            <span class="material-symbols-outlined card">attach_money</span> <strong>20,000원</strong>
          </p>
        </div>
      </div>
      <div class="meeting-card">
        <img src="https://d31wz4d3hgve8q.cloudfront.net/media/KakaoTalk_Photo_2024-01-24-14-38-38_002.jpeg?w=1920" alt="풋살장 이미지" class="meeting-img" />
        <div class="meeting-info">
          <div class="meeting-meta">
        <span class="date">
          <span class="material-symbols-outlined card">event</span> 2025.04.23 (화)
        </span>
            <button class="bookmark">
              <span class="material-symbols-outlined not-filled">favorite</span>
            </button>
          </div>
          <h3 class="title">요즘같은 선선한 날에 축구 한판 어때요!</h3>
          <p class="location">
            <span class="material-symbols-outlined card">location_on</span> 서울 도봉구 방학로 223
          </p>
          <p class="likes">
            <span class="material-symbols-outlined card">favorite</span> 32명 찜
          </p>
          <p class="price">
            <span class="material-symbols-outlined card">attach_money</span> <strong>20,000원</strong>
          </p>
        </div>
      </div>

    </section>

    <main class="map-section">
      <img src="../../img/map_img.png" alt="지도" class="map-image" />
    </main>

  </div>

  <!-- 플로팅바 -->
  <div id="floatingNavMin" class="floating-nav min" style="display: block;">
    <div class="nav-section">
      <div class="nav-btn" title="설정">
        <span class="material-symbols-outlined" onclick="toggleFloatingNav()">settings</span>
      </div>
    </div>
  </div>

  <div id="floatingNavFull" class="floating-nav" style="display: none;">
    <div class="nav-section">
      <div class="nav-btn" title="모임 개설" onclick="location.href='meeting-create-select.html'">
        <span class="material-symbols-outlined">edit_note</span>
      </div>
    </div>
    <hr />
    <div class="nav-section">
      <!-- 개설 모임 관리 -->
      <div class="nav-btn" title="개설 모임 관리" onclick="openModal('assignmentModal')">
        <span class="material-symbols-outlined">assignment</span>
      </div>

      <!-- 참가 모임 관리 -->
      <div class="nav-btn" title="참가 모임 관리" onclick="openModal('participationModal')">
        <span class="material-symbols-outlined">emoji_people</span>
      </div>

      <!-- 찜한 모임 목록 -->
      <div class="nav-btn" title="찜 목록" onclick="openModal('favoriteModal')">
        <span class="material-symbols-outlined">favorite</span>
      </div>

    </div>
    <hr />
    <div class="nav-section">
      <div class="nav-btn" title="알림">
        <span class="material-symbols-outlined" onclick="toggleFloatingNav()">settings</span>
      </div>
    </div>
  </div>

</div>

<!-- 필터 모달 -->
<div class="filter-modal" id="filterModal">
  <div class="filter-modal-inner">
    <h2 class="filter-title"><span class="material-symbols-outlined">tune</span> 필터</h2>

    <div class="filter-group">
      <label class="filter-label">지역</label>
      <div class="region-selector">
        <div class="region-buttons">
          <button class="region-btn main-region-btn">전체</button>
          <button class="region-btn sub-region-btn">전체</button>
        </div>

        <div class="region-dropdown" style="display: none;">
          <div class="region-category-list">
            <ul>
              <!-- JS로 대분류 채워짐 -->
            </ul>
          </div>
          <div class="region-subcategory-list">
            <ul>
              <!-- JS로 소분류 채워짐 -->
            </ul>
          </div>
        </div>
      </div>

    </div>

    <!-- 성별 -->
    <div class="filter-group">
      <label class="filter-label">성별</label>
      <div class="filter-chip-group">
        <button class="filter-chip active">전체</button>
        <button class="filter-chip">남성</button>
        <button class="filter-chip">여성</button>
      </div>
    </div>

    <!-- 나이대 -->
    <div class="filter-group">
      <label class="filter-label">나이대</label>
      <div class="filter-chip-group">
        <button class="filter-chip active">전체</button>
        <button class="filter-chip">10대</button>
        <button class="filter-chip">20대</button>
        <button class="filter-chip">30대</button>
        <button class="filter-chip">40대</button>
        <button class="filter-chip">50대</button>
        <button class="filter-chip">60대</button>
        <button class="filter-chip">70대+</button>
      </div>
    </div>

    <!-- 실력 -->
    <div class="filter-group">
      <label class="filter-label">실력</label>
      <div class="filter-chip-group">
        <button class="filter-chip active">전체</button>
        <button class="filter-chip">Lv.1</button>
        <button class="filter-chip">Lv.2</button>
        <button class="filter-chip">Lv.3</button>
      </div>
    </div>

    <!-- 상태 -->
    <div class="filter-group">
      <label class="filter-label">상태</label>
      <div class="filter-chip-group">
        <button class="filter-chip active">전체</button>
        <button class="filter-chip">모집중</button>
        <button class="filter-chip">최소 모집완료</button>
        <button class="filter-chip">모집완료</button>
        <button class="filter-chip">진행 완료</button>
      </div>
    </div>

    <!-- 날짜 -->
    <div class="filter-group">
      <label class="filter-label meeting-filter-label">조회 기간 :</label>
      <div class="meeting-filter-date">
        <input type="date" class="select-box meeting-start-date"> ~
        <input type="date" class="select-box meeting-end-date">
      </div>
    </div>

    <!-- 검색 -->
    <button class="filter-search-btn"  onclick="closeModal('filterModal')">검색</button>
  </div>
</div>



<!-- 모달들 -->
<!-- 개설한 모임 목록 모달 -->
<div class="assignment-modal modal" id="assignmentModal">
  <div class="assignment-header">
    <span class="material-symbols-outlined">assignment</span>
    <h2>개설한 모임 목록</h2>
    <button class="assignment-close" onclick="closeModal('assignmentModal')">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>

  <div class="assignment-list">
    <div class="assignment-card" onclick="openModal('participantModal', ['assignmentModal'])">
      <img src="https://lh3.googleusercontent.com/WSd2O6LEKsQCPQDuQhwjl-2IcWSwOpa1pE1SnB2A3-TUA5_zfy7LYSR3dxDZxmJI2zAdd-6MbNPtgOdg_RBK8QKhNWiWcK_zJ3cfqKmKyiPAsJ6_BUV5To4=s0?gpos=1.0001" alt="풋살장 이미지 3" class="assignment-thumb" />
      <div class="assignment-content">
        <div class="assignment-title">초보 환영, 풋살 한판!</div>
        <div class="assignment-address">서울 마포구 독막로 12</div>
      </div>
      <div class="assignment-status 모집중">모집중</div>
    </div>

    <div class="assignment-card" onclick="openModal('participantModal', ['assignmentModal'])">
      <img src="https://lh3.googleusercontent.com/WSd2O6LEKsQCPQDuQhwjl-2IcWSwOpa1pE1SnB2A3-TUA5_zfy7LYSR3dxDZxmJI2zAdd-6MbNPtgOdg_RBK8QKhNWiWcK_zJ3cfqKmKyiPAsJ6_BUV5To4=s0?gpos=1.0001" alt="풋살장 이미지 3" class="assignment-thumb" />
      <div class="assignment-content">
        <div class="assignment-title">여의도 러닝크루</div>
        <div class="assignment-address">서울 영등포구 여의서로 36</div>
      </div>
      <div class="assignment-status 진행완료">최소 모집 완료</div>
    </div>
  </div>
</div>

<!-- 참가한 모임 목록 모달 -->
<div class="assignment-modal modal" id="participationModal">
  <div class="assignment-header">
    <span class="material-symbols-outlined">group</span>
    <h2>참가한 모임 목록</h2>
    <button class="assignment-close" onclick="closeModal('participationModal')">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>

  <div class="assignment-list">
    <div class="assignment-card" onclick="openModal('participantListModal', ['participationModal'])">
      <img src="https://img.shareit.kr/tempspaceauth/img/2023-01-02/36d691d0-301c-4b65-9588-036c46d70e3f.jpg" alt="풋살장 이미지 4" class="assignment-thumb" />
      <div class="assignment-content">
        <div class="assignment-title">토요일 러닝 크루</div>
        <div class="assignment-address">서울 성동구 왕십리로 28</div>
      </div>
      <div class="assignment-status 모집중">모집중</div>
    </div>

    <div class="assignment-card" onclick="openModal('participantListModal', ['participationModal'])">
      <img src="https://img.shareit.kr/tempspaceauth/img/2023-01-02/36d691d0-301c-4b65-9588-036c46d70e3f.jpg" alt="풋살장 이미지 4" class="assignment-thumb" />
      <div class="assignment-content">
        <div class="assignment-title">강남 탁구 번개</div>
        <div class="assignment-address">서울 강남구 테헤란로 142</div>
      </div>
      <div class="assignment-status 진행완료">최소 모집 완료</div>
    </div>
  </div>
</div>

<!-- 찜한 모임 목록 모달 -->
<div class="assignment-modal modal" id="favoriteModal">
  <div class="assignment-header">
    <span class="material-symbols-outlined">favorite</span>
    <h2>찜한 모임 목록</h2>
    <button class="assignment-close" onclick="closeModal('favoriteModal')">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>

  <div class="assignment-list">
    <div class="assignment-card">
      <img src="https://tse3.mm.bing.net/th?id=OIP.9ohBc0N0yKszuMtF-9HVUAHaE4&pid=Api" alt="풋살장 이미지 1" class="assignment-thumb" />
      <div class="assignment-content">
        <div class="assignment-title">홍대 농구 모임</div>
        <div class="assignment-address">서울 마포구 양화로 16길</div>
      </div>
      <div class="assignment-status 모집중">모집중</div>
    </div>

    <div class="assignment-card">
      <img src="https://tse3.mm.bing.net/th?id=OIP.9ohBc0N0yKszuMtF-9HVUAHaE4&pid=Api" alt="풋살장 이미지 1" class="assignment-thumb" />
      <div class="assignment-content">
        <div class="assignment-title">야외 요가 클래스</div>
        <div class="assignment-address">서울 송파구 올림픽로 424</div>
      </div>
      <div class="assignment-status 진행완료">진행 완료</div>
    </div>
  </div>
</div>

<!-- 참가자 관리 모달 -->
<div class="participant-modal modal" id="participantModal">
  <button class="participant-close" onclick="closeModal('participantModal')">&times;</button>

  <div class="participant-modal-header">
    <span class="material-symbols-outlined emoji">group</span>
    <h2>참가자 관리</h2>
  </div>
  <hr class="divider" />

  <div class="participant-modal-content">
    <h2>참가자 목록</h2>
    <div class="participant-card">
      <img src="https://api.dicebear.com/7.x/thumbs/svg?seed=linkup" alt="프로필" class="participant-thumb" />

      <div class="participant-content">
        <div class="participant-nickname">방구석메시</div>
        <div class="participant-subinfo">매너온도 38°C</div>
      </div>
      <div class="participant-creator">
        <img src="https://cdn-icons-png.flaticon.com/512/3173/3173726.png" alt="왕관 아이콘" width="48" height="48" />
      </div>
    </div>
    <hr class="participant-divider" />

    <div class="participant-card">
      <img src="https://api.dicebear.com/7.x/thumbs/svg?seed=linkup" alt="프로필" class="participant-thumb" />
      <div class="participant-content">
        <div class="participant-nickname">방구석메시</div>
        <div class="participant-subinfo">매너온도 38°C</div>
      </div>
      <div class="participant-actions">
        <button class="participant-btn accept">권한 위임</button>
      </div>
    </div>
  </div>


  <hr class="divider" />
  <div class="participant-modal-content">
    <h2>참가 신청 목록</h2>
    <div class="applicant-card">
      <div class="applicant-profile">
        <img src="https://api.dicebear.com/7.x/thumbs/svg?seed=linkup" alt="프로필" class="participant-thumb" />
      </div>
      <div class="applicant-info">
        <p><strong>열정파워</strong> </p>
        <p><strong>남자</strong> | <strong>30세</strong> | <strong>38°C</strong></p>
        <p> 승부욕 강한 타입입니다.</p>
      </div>
      <div class="applicant-actions">
        <button class="btn accept">수락</button>
        <button class="btn reject">거절</button>
      </div>
    </div>
  </div>

  <div class="participant-modal-button">
    <button class="btn cancel">모임 취소</button>
  </div>
</div>

<!-- 참가자 목록 조회 모달 -->
<div class="participant-modal modal" id="participantListModal">
  <button class="participant-close" onclick="closeModal('participantListModal')">&times;</button>

  <div class="participant-modal-header">
    <span class="material-symbols-outlined emoji">group</span>
    <h2>참가자 목록</h2>
  </div>
  <hr class="divider" />

  <div class="participant-modal-content">
    <h2>참가자 목록</h2>
    <div class="participant-card">
      <img src="https://api.dicebear.com/7.x/thumbs/svg?seed=linkup" alt="프로필" class="participant-thumb" />

      <div class="participant-content">
        <div class="participant-nickname">방구석메시</div>
        <div class="participant-subinfo">매너온도 38°C</div>
      </div>
      <div class="participant-creator">
        <img src="https://cdn-icons-png.flaticon.com/512/3173/3173726.png" alt="왕관 아이콘" width="48" height="48" />
      </div>
    </div>
    <hr class="participant-divider" />

    <div class="participant-card">
      <img src="https://api.dicebear.com/7.x/thumbs/svg?seed=linkup" alt="프로필" class="participant-thumb" />
      <div class="participant-content">
        <div class="participant-nickname">방구석메시</div>
        <div class="participant-subinfo">매너온도 38°C</div>
      </div>
      <div class="participant-creator">
      </div>
    </div>
  </div>

  <div class="participant-modal-button">
    <button class="btn cancel">모임 취소</button>
  </div>
</div>


<script>
    // 모달 열기
    function openModal(id, preserveIds = []) {
      document.querySelectorAll('.modal').forEach(m => {
        if (!preserveIds.includes(m.id)) {
          m.style.display = 'none';
        }
      });
      document.getElementById(id).style.display = 'block';
    }


    // 모달 닫기
    function closeModal(id) {
    document.getElementById(id).style.display = 'none';
  }

    // 필터 모달 열고 닫기
    function toggleFilterModal() {
    const filter = document.getElementById('filterModal');
    filter.style.display = (filter.style.display === 'block') ? 'none' : 'block';
  }

    // 플로팅 바 토글
    function toggleFloatingNav() {
    const minNav = document.getElementById("floatingNavMin");
    const fullNav = document.getElementById("floatingNavFull");

    const isMinOpen = minNav.style.display !== "none";

    minNav.style.display = isMinOpen ? "none" : "block";
    fullNav.style.display = isMinOpen ? "block" : "none";
  }

    // 필터칩 토글
    document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.filter-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        chip.classList.toggle('active');
      });
    });

    const areas = {
    "서울": ["강남", "건대입구", "가양", "노원", "도곡", "신림", "영등포"],
    "경기/인천": ["수원", "성남", "고양", "인천", "부천"],
    "충청/대전": ["대전", "천안", "청주"],
    "전라/광주": ["광주", "전주", "목포"],
    "경북/대구": ["대구", "구미", "포항"],
    "경남/부산/울산": ["부산", "울산", "창원"],
    "강원": ["춘천", "강릉"],
    "제주": ["제주시", "서귀포시"]
  };

    const mainBtn = document.querySelector('.main-region-btn');
    const subBtn = document.querySelector('.sub-region-btn');
    const dropdown = document.querySelector('.region-dropdown');
    const categoryList = document.querySelector('.region-category-list ul');
    const subcategoryList = document.querySelector('.region-subcategory-list ul');

    mainBtn.addEventListener('click', () => {
    dropdown.style.display = dropdown.style.display === 'flex' ? 'none' : 'flex';
  });

    function renderCategory() {
    categoryList.innerHTML =
    Object.keys(areas).map(area => `<li>${area}</li>`).join('');
  }

    function renderSubcategory(selectedArea) {
    const subs = areas[selectedArea] || [];
    subcategoryList.innerHTML =
    subs.map(sub => `<li>${sub}</li>`).join('');
  }

    renderCategory();
    renderSubcategory(Object.keys(areas)[0]);

    categoryList.addEventListener('click', (e) => {
    if (e.target.tagName === 'LI') {
    document.querySelectorAll('.region-category-list li').forEach(li => li.classList.remove('active'));
    e.target.classList.add('active');

    const selectedMain = e.target.textContent.trim();
    mainBtn.textContent = selectedMain;
    renderSubcategory(selectedMain);
    subBtn.textContent = '전체';
  }
  });

    subcategoryList.addEventListener('click', (e) => {
    if (e.target.tagName === 'LI') {
    document.querySelectorAll('.region-subcategory-list li').forEach(li => li.classList.remove('active'));
    e.target.classList.add('active');

    const selectedSub = e.target.textContent.trim();
    subBtn.textContent = selectedSub;
    dropdown.style.display = 'none';
  }
  });
  });
    const iconBtns = document.querySelectorAll('.icon-btn');
    const cards = document.querySelectorAll('.meeting-card');

    iconBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        iconBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const selected = btn.dataset.type;
        cards.forEach(card => {
          const type = card.dataset.type;
          if (selected === 'all' || type === selected) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });

</script>

</body>
</html>
